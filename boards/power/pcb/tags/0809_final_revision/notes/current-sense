 Current sense resistor value on the power board.
--------------------------------------------------

To determine the sense resistor value, one needs to know the following
things:
 * Full-scale current: +/- 10A
 * Ideal full-scale output voltage: 3.3/2 V
     The PIC is powered from a 3.3V rail.

The reference voltage of the MAX4069 can be set using the two external
resistors connector to REFOUT and ADJ.

The device has two gain settings: 50 or 100.  These are set by the
GSEL pin.  The sense voltage is amplified by the selected gain, and
added to the reference voltage.

The reference voltage is generated by an op-amp connected to a 1.23 V
reference, and the two resistors (see datasheet p9).  The voltage
across R2 is 1.23 V.

Since we want a reference voltage of 3.3/2 = 1.65 V, we want 1.65-1.23
= 0.42 V across R1 so that there is 1.65 V at the op-amp output.

Therefore, we want a resistor ratio of:

R1/R2 = 0.42/1.23 = 0.3415

If R1 = 3.3, R2 = 10, then R1/R2 = 0.33, which is close enough.

The datasheet mandates that 20k < R1 + R2 < 500k - so 100k and 33k
will be fine:
  
 R1 = 33k
 R2 = 100k

*** Gain setting ***

The datasheet says that "for best performance", select Rsense to
product a full-scale sense voltage of:
 * 75mV if gain set to 50
 * 50mV if gain set to 100

If we go for the latter option, then the Rsense value is:

 R = 0.05/10 = 5 milliOhms

The power dissipation in the sense resistor will therefore be 100 *
0.005 = 0.5 W.

So, in conclusion:

 * R1 = 33k
 * R2 = 100k
 * Gain set to 100 V/V (GSEL = high)
 * Sense resistor = 5 milliOhms



