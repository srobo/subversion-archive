<html>
<head>
<link rel="stylesheet" type="text/css" href="../css/main.css" />
<title>Power Board</title>
</head>
<body>
<center><h1>Power Board</h1></center>
All electronic devices need power. Different devices require different amounts of power, for example a motor requires much more power than an LED. It is the job of the power board to supply the right amount of power to all of the different boards or 'modules' in your kit. The primary source of power for you robot is its 12V battery. This is capable of running your robot for a few hours, depending on the size and complexity of your robot. When this runs out your robot's secondary source of power is the mains electricity, supplied via a battery charger. When you are not testing your robot, you should be charging it's batteries! 
<br />
<br />
<strong style="color:red; font-size:2em;">WARNING: </strong> When you are <b>not</b> using your robot, <b>you should be charging its battery!</b>
<br />
<strong style="color:red; font-size:2em;">WARNING: </strong> <b>Switch off your robot</b> before making <b>any</b> modifications to it!


<h2>Board Outline</h2>
The board outline of the Power Board is illustrated in <a href="#board-outline">Figure 1</a>:
<center>
<a name="board-outline">
<a href="images/outline.png"><img src="images/outline.png" style="width:500px" border=0 /></a>
<br />Figure 1 - Outline of Power Board 
</center>

<h2>Modules</h2>
Your robotics kit is made up of 4 modules:
<ul>
<li> Power Board</li>
<li> JointIO Board</li>
<li> PWM Board</li>
<li> Motor Board </li>
</ul>

The power board is at the centre of the kit as all other modules plug into it. The power board communicates with each of the boards using the black/gray RJ11 Cables in your kit. The jointio, pwm and motor boards all have a single RJ11 socket, whilst the power board has four. An RJ11 Cable should connect each board to any one of the four RJ11 sockets on the power board.

<h2> Technical Specification</h2>
<ul>
<li>Fused connection to 12V battery and charger</li>
<li>Zigbee radio module</li>
<li>4 User controllable LEDs</li>
<li>4 User readable Switches</li>
<li>Competition button</li>
<li>5V Servo rail connection</li>
<li>2x 12V Motor rail connection</li>
<li>Status LEDs</li>	
</ul>

<h2>Making Connections</h2>
<h3>Power</h3>
Whilst each module is connected to the power board via the RJ11 cables, some boards, such as the Motor board, require additional power connections. These are made using the green camcon connectors included in your kit. You will need to make up the connector shown in <a href="#camcon-connector">Figure 3</a> for each of the following connectors.
<ul>
<li>Power board (12V) -> Motor board (12V)</li>
<li>Power board (5V) -> PWM Board (5V)</li>
</ul>

<center>
<a name="camcon-connector">
<a href="images/camcon.png"><img src="images/camcon.png" border=0 /></a>
<br />Figure 2 - Camcon power connections 
</center>
<h3>USB</h3>
To connect power to the USB Hub, use the special connector supplied in your kit. Ensure that you connect it to the USB Hub 5V rail on the power board. <strong>Do not connect the USB Hub to the 12V motor rails.</strong>
<h3>Switches</h3>
Two switches are supplied in your kit. One is the charge-run switch and the other is the power switch:
<ul>
<li><strong>Charge-run Switch: </strong> This switches between charging your robot and running your robot. When in charge mode, no power will be supplied to the motors; this is to prevent your robot accidentally driving while plugged into the mains! When in run mode, your battery will not charge, even if it is plugged into the charger. You can tell which mode your robot is in by looking at the charge LED - see <a href="#board-outline">Figure 1</a>.</li>
<li><strong>Power Switch: </strong> This is the main On/Off switch for your robot.</li>
</ul>

<h3>Slug</h3>

The Slug connects to the power board using the multi-coloured ribbon cable via the pin header shown in <a href="#board-outline">Figure 1</a>.

<h3>Additional Motors/Electronics</h3>
You may have noticed that there are two 12V Motor rails on the power board. Only one is connected to the motor board, leaving one spare for you to use to power additional motors. Remember that both 12V connections are not available when in charge mode. Alternately, you may want to use this connection to power your own custom electronics. Spare camcon connectors are provided for this purpose. 
<br />
<br />
<strong style="color:red; font-size:2em;">WARNING: </strong> all additional electronics (including motors and custom circuits) <b>must</b> be powered from the <b>12V motor rail</b>.
<br />

<h2>Competition Button</h2>
The competition button is used to tell your robot to begin executing your code. After turning on your robot and waiting for the slug to boot, GP LED0 on the power board will begin to flash. This means that your robot is ready and waiting for the 'GO' signal to be transmitted to its radio module. Pressing the competition button will skip waiting for the 'GO' signal and force your robot to begin executing code. To summarise:

<ul>
<li><strong>When practicing,</strong> press the competition button to start your robot.
<li><strong>When competing,</strong> do <b>not</b> press the competition button before placing your robot in the arena. 
</ul>
<h2>Inputs</h2>
The power board has a (red) bank of four switches. You can use a small screwdriver to change the position of the switches. The state of the switches can be read in your robot's code and used to alter its behaviour in any way conceivable. A typical use of the switches is to put your robot into different modes, for example you may have a 'demo' mode (used for testing) and a 'competition' mode (used at the competition) and use the switches to select between the two.

<h2>Outputs</h2>
The power board has four user controllable LEDs which may be used to indicate your robot has reached particular parts of the code or just for visual effect! 

<h2>Troubleshooting</h2>
<h3>No lights illuminate</h3>
Is the fuse fitted and not blown? Is the battery or charger connected? Is the battery charged?

<h3>The Slug never boots/beeps</h3>
Are both memory sticks plugged in to the USB Hub? Is the USB Hub powered? Is the battery flat? Is the slug connected to the power board correctly? 

<h3>Our code never runs</h3>
Have you pressed the competition button to override waiting for the radio signal? Have you checked the syntax of your code using the IDE?

<h3>The lights on the motor board flash, but the wheels don't turn</h3>
Are you in Run mode? Have you wired up the connector correctly?


<h2>Programming Interface</h2>
A programming interface is a set of rules explaining how you can control a specific module from within your robot's python code. 
<h3>Reading Inputs</h3>
To read one of the four switches on the power board, use the following in your code:
<pre>
# to read switch SWITCH_NO on the power board:
power.switch[SWITCH_NO] 

# where SWITCH_NO = 0,1,2,3
</pre>

<h3>Setting Outputs</h3>
To set or clear an LED on the power board, use the following code:
<pre>
# to turn on led LED_NO on the power board:
power.led[LED_NO] = 1

# where LED_NO = 0,1,2,3

# similarly, to turn it of:
power.led[LED_NO] = 0
</pre>
</body>
